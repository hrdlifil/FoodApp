{% extends 'base.html.twig' %}
{% block title %}Homepage{% endblock %}
{% block stylesheets %}
    <style>
        *
        {
            box-sizing: border-box;
            padding: 0;
            margin: 0;
        }

        html
        {
            height: 100%;
        }

        body
        {
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;

        }

        #nove-username
        {
            display: none;
        }
        #novy-email
        {
            display: none;
        }
        #nove-heslo
        {
            display: none;
        }
        #novy-telefon
        {
            display: none;
        }


    </style>
{% endblock %}

{% block body %}
    <a href="{{ path("login_uspesny") }}">ZPĚT</a>


    <h3>Moje jméno:  </h3> {{ app.user.name }}
    <br/>
    <h3>Moje příjmení:  </h3> {{ app.user.surname }}
    <br/>
    <h3>Moje uživatelské jméno:  </h3> {{ app.user.login }}
    <br/>
    <h3>Moje role:  </h3> {{ app.user.role }}
    <br/>
    <h3>Můj e-mail:  </h3> {{ app.user.email }}
    <br/>
    <h3>Můj telefon:  </h3> {{ app.user.phone }}
    <br/>

        {% for message in app.flashes("info") %}
            <h3>{{ message }}</h3>
        {% endfor %}
        <a id="zmenit-username-odkaz">Změnit uživatelské jméno</a>


        <form id="nove-username" method="post" action="{{ path("nove_username") }}">
            <label for="x">Zadejte nové uzivatelske jméno:</label>
            <input id="x" type="text" name="nove-username">
            <br/>
            <input type="submit" value="Zmenit">
        </form>


        {% for message in app.flashes("info_email") %}
            <h3>{{ message }}</h3>
        {% endfor %}
        <a id="zmenit-email-odkaz">Zmenit email</a>
        <form id="novy-email" method="post" action="{{ path("novy_email") }}">
            <label for="x">Zadejte nový email:</label>
            <input id="x" type="email" name="novy-email">
            <br/>
            <input type="submit" value="Zmenit">
        </form>

        {% for message in app.flashes("info_heslo") %}
            <h3>{{ message }}</h3>
        {% endfor %}
        <a id="zmenit-heslo-odkaz">Změnit helo</a>
        <form id="nove-heslo" method="post" action="{{ path("nove_heslo") }}">
            <label for="y">Zadejte nové heslo:</label>
            <input id="y" type="password" name="nove-heslo">
            <br/>
            <label for="z">Zadejte nové heslo znovu:</label>
            <input id="z" type="password" name="nove-heslo-znovu">
            <br/>
            <input type="submit" value="Zmenit">
        </form>

        {% for message in app.flashes("info_telefon") %}
            <h3>{{ message }}</h3>
        {% endfor %}
        <a id="zmenit-telefon-odkaz">Změnit telefon</a>
        <form id="novy-telefon" method="post" action="{{ path("novy_telefon") }}">
            <label for="y">Zadejte své telefonní číslo:</label>
            <input id="y" type="text" name="novy-telefon">
            <br/>
            <input type="submit" value="Změnit">
        </form>

        <h3>Mé adresy:</h3>
        <br/>
        {% for adresa in app.user.address %}
            <h3>--------------------------------</h3>
            <ul>
                <li>{{ adresa.popisAdresy }}</li>
                <li>{{ adresa.town }}</li>
                <li>{{ adresa.street }}</li>
                <li>{{ adresa.houseNumber }}</li>
                <li>{{ adresa.postCode }}</li>
            </ul>
        {% endfor %}
    <br/>

        <h3>Pridat další adresu:</h3>
        <div id="pridat-dalsi-adresu">
            {{ form_start(form_pridat_adresu) }}

            {{ form_label(form_pridat_adresu.popisAdresy, 'Popis Adresy') }}
            {{ form_widget(form_pridat_adresu.popisAdresy) }}

            {{ form_label(form_pridat_adresu.street, 'Ulice') }}
            {{ form_widget(form_pridat_adresu.street) }}

            {{ form_label(form_pridat_adresu.town, 'Město') }}
            {{ form_widget(form_pridat_adresu.town) }}

            {{ form_label(form_pridat_adresu.houseNumber, 'Číslo domu') }}
            {{ form_widget(form_pridat_adresu.houseNumber) }}

            {{ form_label(form_pridat_adresu.postCode, 'PSC') }}
            {{ form_widget(form_pridat_adresu.postCode) }}

            {{ form_end(form_pridat_adresu) }}
        </div>


{% endblock %}
{% block javascripts %}
    <script>

        document.getElementById("zmenit-username-odkaz").addEventListener("click", zmenitUsername);
        document.getElementById("zmenit-email-odkaz").addEventListener("click", zmenitEmail);
        document.getElementById("zmenit-heslo-odkaz").addEventListener("click", zmenitHeslo);
        document.getElementById("zmenit-telefon-odkaz").addEventListener("click", zmenitTelefon);



        function zmenitTelefon()
        {
            document.getElementById("novy-telefon").style.display = "flex";

        }

        function zmenitHeslo()
        {
            document.getElementById("nove-heslo").style.display = "block";

        }

        function zmenitEmail()
        {
            document.getElementById("novy-email").style.display = "block";

        }

        function zmenitUsername()
        {
            document.getElementById("nove-username").style.display = "block";

        }




    </script>
{% endblock %}